module syntax-forms
language QL
start symbol Start

test empty form [[
	form empty {}
]] parse succeeds

test other empty form [[
	form other {
		
	}
]] parse succeeds

test nonempty form [[
	form nonempty {
		question : "Label" boolean		
	}
]] parse succeeds

test only one form [[
	form one {}
	form two {}
]] parse fails

test multiple questions [[
	form questions {
		problems : "Does your car have problems?" boolean
		what     : "What is the problem?" string
	}
]] parse succeeds

test computed question [[
	form computed {
		moneynow  : "How much money did you have in 2013?" money
		moneyprev : "How much money did you have in 2012?" money
		moneydiff : "Difference" money(moneynow - moneyprev)
	}
]] parse succeeds

test conditional [[
	form conditional {
		if(true) {
			problems : "Does your car have problems?" boolean
			what     : "What is the problem?" string
		}
	}
]] parse succeeds

test nested conditional [[
	form nested {
		if(q1) {
			if(q2) {
				if(q3) {
					problems : "Does your car have problems?" boolean
					what     : "What is the problem?" string
				}
			}
		}
	}
]] parse succeeds

