<?xml version="1.0" encoding="UTF-8" ?>

<project name="QL" default="all">
  
  <!-- Key input modules -->
  <property name="sdfmodule" value="QL"/>
  <property name="metasdfmodule" value="Stratego-QL-WebDSL"/>
  <property name="esvmodule" value="QL"/>
  <property name="strmodule" value="ql"/>

  <!-- Project directories -->
  <property name="trans" location="trans"/>
  <property name="src-gen" location="editor/java"/>
  <property name="syntax" location="syntax"/>
  <property name="include" location="include"/>
  <property name="lib" location="lib"/>
  <property name="build" location="bin"/>
  <property name="dist" location="bin/dist"/>
  
  <!-- Imports -->
  <property name="build.sdf.imports" value="-Idef &quot;${basedir}/lib/webdsl/WebDslMix.def&quot;"/>
  <property name="build.stratego.args" value="
                  --library
                  -I &quot;${trans}&quot;
                  -I &quot;${basedir}&quot;
                  -la stratego-lib -la stratego-sglr -la stratego-gpp -la stratego-xtc -la stratego-aterm"/>
  
  <!-- Optional: external .def and .jar locations
  <property name="externaldef" location="syntax/${sdfmodule}.def"/>
  <property name="externaljar" value="../lib.jar"/>
  <property name="externaljarflags" value="-la org.lib"/>
  -->

  <!-- Environment configuration for command-line builds -->
  <condition property="build.strategoxt.sdf" value="${eclipse.spoofaximp.nativeprefix}" else="">
      <isset property="eclipse.spoofaximp.nativeprefix"/>
  </condition>
  <property name="build.strategoxt.stratego" location="${user.home}/.nix-profile/bin"/>
        <import file="build.generated.external.xml"/>
        <property name="eclipse.spoofaximp.jars" location="utils"/>
        
        
        <!-- Classpath for building outside of Eclipse -->
    		<path id="external.class.path">
        	<pathelement path="${java.class.path}"/>
					<fileset dir="utils">
						<include name="**/*.jar"/>
    			</fileset>
        </path>
        
    
        <!-- Main target -->
        <target name="all" depends="spoofaximp.default.ctree"/>
    </project>